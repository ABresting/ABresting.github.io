

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>PostgreSQL-Setup - Abhimanyu Rawat</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Abhimanyu Rawat">
<meta property="og:title" content="PostgreSQL-Setup">


  <link rel="canonical" href="https://ABresting.github.io/posts/2019/PostgreSQL-setup/">
  <meta property="og:url" content="https://ABresting.github.io/posts/2019/PostgreSQL-setup/">



  <meta property="og:description" content="About PostgreSQL">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2019-06-02T00:00:00-07:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Abhimanyu Rawat",
      "url" : "https://ABresting.github.io",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://ABresting.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Abhimanyu Rawat Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://ABresting.github.io/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="https://ABresting.github.io/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="https://ABresting.github.io/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="https://ABresting.github.io/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="https://ABresting.github.io/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="https://ABresting.github.io/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="https://ABresting.github.io/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="https://ABresting.github.io/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="https://ABresting.github.io/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="https://ABresting.github.io/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="https://ABresting.github.io/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="https://ABresting.github.io/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="https://ABresting.github.io/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="https://ABresting.github.io/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="https://ABresting.github.io/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="https://ABresting.github.io/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="https://ABresting.github.io/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="https://ABresting.github.io/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="https://ABresting.github.io/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://ABresting.github.io/">Abhimanyu Rawat</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://ABresting.github.io/">About Me</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://ABresting.github.io/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://ABresting.github.io/files/CV_AR.pdf">CV</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://ABresting.github.io/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://ABresting.github.io/contact/">Contact</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://ABresting.github.io/images/abhi2.png" class="author__avatar" alt="Abhimanyu Rawat">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Abhimanyu Rawat</h3>
    <p class="author__bio">Researcher Distributed Systems and Security, ex- DellEMC Protocols Developer(DDOS)</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Paris, France</li>
      
      
      
      
        <li><a href="mailto:Abhimanyu.Rawat@nokia.com"><i class="fas fa-envelope" aria-hidden="true"></i> Email</a></li>
      
      
       
      
        <li><a href="https://twitter.com/techie_pop"><i class="fab fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
        <li><a href="https://www.linkedin.com/in/abhimanyu-rawat-3347b45b"><i class="fab fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
      
      
      
      
      
      
        <li><a href="https://github.com/ABresting"><i class="fab fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?user=jTj3bRIAAAAJ&hl=en&oi=ao"><i class="fas fa-graduation-cap"></i> Google Scholar</a></li>
      
      
      
    </ul>
  </div>
</div>

  
  </div>
  



  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="PostgreSQL-Setup">
    <meta itemprop="description" content="About PostgreSQL">
    <meta itemprop="datePublished" content="June 02, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">PostgreSQL-Setup
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  5 minute read
	
</p>
          
        
        
        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2019-06-02T00:00:00-07:00">June 02, 2019</time></p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <h1 id="about-postgresql">About PostgreSQL</h1>

<p>In the world of SQL or RDBMS based databases, PostgreSQL offers great services which can be used by an individual user to large scale enterprises. Similar to most of the SQL based databases, setting it up is fairly simple, and it provides users a great experience and flexibility to meet your goals.<br /></p>

<p>To understand the PostgreSQL and how it suffice your use case, setting it up is an essential step. This post demonstrates how to install PostgreSQL on an Ubuntu 16.04 machine along with basic database administration with a running use case(small app).<br /></p>

<h2 id="step-1---install-postgresql">Step 1 - Install PostgreSQL</h2>

<p>The most recommended method is to install it via the <code class="language-plaintext highlighter-rouge">apt</code> packing manager.</p>

<pre><code class="language-Ruby">user@foo:~$ sudo apt update
user@foo:~$ sudo apt install postgresql postgresql-contrib

</code></pre>

<p>After the above installation, automatically a user and a database named as <strong>postgres</strong> have been added to the machine and PostgreSQL service, it is an administration account. Now, you can use this administration user account to access the PostgreSQL related functions and roles. <a href="http://www.postgresqltutorial.com/postgresql-roles/" target="_blank">Roles</a> are nothing but the different types of functions you can perform in the PostgreSQL database.</p>

<p>There are a few ways to use <strong>postgres</strong> account to access PostgreSQL shell.</p>

<h2 id="step-2---enter-the-postgresql-shell">Step 2 - Enter the PostgreSQL shell</h2>

<p>To switch over to the <strong>postgres</strong> account run the following command:</p>

<pre><code class="language-Ruby">user@foo:~$ sudo -i -u postgres
postgres@foo:~$
</code></pre>
<p>Now you have successfully entered in the <strong>postgres</strong> account, to access the PostgreSQL process shell run the following command:</p>

<pre><code class="language-Ruby">postgres@foo:~$ psql
postgres=#

</code></pre>
<h3 id="or-you-can-directly-enter-in-the-postgres-psql-shell-by">Or you can directly enter in the <strong>postgres</strong> psql shell by:</h3>

<pre><code class="language-Ruby">user@foo:~$ sudo -i -u postgres psql
postgres=#

</code></pre>
<p>Now you are free to interact with the database management services.</p>

<p>Exit out of the PostgreSQL shell by:</p>

<pre><code class="language-Ruby">postgres=# \q
user@foo:~$

</code></pre>

<h2 id="step-3---creating-a-role">Step 3 - Creating a role</h2>

<p>In PostgreSQL, a role/user is required so that it can interact with the PostgreSQL database service via as 3rd party standalone apps, PHP web application, Python scripts, etc.</p>

<p>A very simple way of creating a user is from <strong>postgres</strong> account:</p>

<pre><code class="language-Ruby">postgres@foo:~$ createuser -P -s -e demopy
Enter password for new role: 
Enter it again: 
SELECT pg_catalog.set_config('search_path', '', false)
CREATE ROLE demopy PASSWORD 'md516a97ee203992bfc3ab84a77b340de86' SUPERUSER CREATEDB CREATEROLE INHERIT LOGIN;

</code></pre>

<p>The above script has automatically made the role/user you created with superuser privileges. Select a password and remember, and it will be feed to your application that interacts with the PostgreSQL database on your behalf.</p>

<h2 id="step-4---creating-a-database">Step 4 - Creating a Database</h2>

<p>Now, very quickly, you can create a database to play around with an application. From your <strong>postgres</strong> account type the following command:</p>

<pre><code class="language-Ruby">postgres@foo:~$ createdb demopy

</code></pre>

<h2 id="step-5---accessing-the-database">Step 5 - Accessing the database</h2>

<p>Access of the newly created PostgreSQL database <strong>demopy</strong> can be done in two ways:</p>

<ol>
  <li>Creating a unix user with the same name as role and database(i.e. demopy) so that through terminal prompt you can access the PostgreSQL services the same way user <strong>postgres</strong> does.</li>
</ol>

<pre><code class="language-Ruby">user@foo:~$ sudo adduser demopy

</code></pre>

<p>Note: the password of the unix user can be different of the password of the role, as during the access of the database through a 3rd party app or plugin the role password will be used not the unix user local account password.</p>

<p>Now to access the database using the following command:</p>

<pre><code class="language-Ruby">user@foo:~$ sudo -i -u demopy
demopy@foo:~$ psql
demopy=#

</code></pre>
<p><code class="language-plaintext highlighter-rouge">pydemo=#</code> is the shell through which the database named demopy can be accessed.</p>

<ol>
  <li>Any database can be accessed via the default user <strong>postgres</strong> account, without the need of making a separate unix user local account:</li>
</ol>

<p>Once you enter the PostgreSQL using the <strong>postgres</strong> account, by default it selects the <em>postgres</em> database:</p>

<pre><code class="language-Ruby">postgres@foo:~$ psql
postgres=#

</code></pre>

<p>You can switch to any database present inside the PostgreSQL service using the command <br /> <code class="language-plaintext highlighter-rouge">\c &lt;name_of_the_database&gt;</code></p>

<pre><code class="language-Ruby">postgres=# \c demopy
You are now connected to database "demopy" as user "postgres".
demopy=#

</code></pre>

<p>Database admins mostly advise step 1.</p>

<h2 id="step-6---create-and-deleting-tables">Step 6 - Create and Deleting Tables</h2>

<p>In the database, Tables are of a defined structure according to which the data is stored. After selecting a database to work on creating a table:</p>

<pre><code class="language-Ruby">demopy=# CREATE TABLE test (
            id_number varchar(50) PRIMARY KEY, 
            name varchar(100) NOT NULL, 
            city varchar(50)
    );


</code></pre>

<p>After this fill database entries for demonstration purpose</p>
<pre><code class="language-Ruby">
demopy=# INSERT INTO test (id_number, name, city) VALUES ('1', 'abc', 'JFK');
demopy=# INSERT INTO test (name, id_number) VALUES ('xyz', '2');


</code></pre>

<p>Run a query against the database to check if the data exists inside the database.</p>

<pre><code class="language-Ruby">
demopy=# SELECT * FROM test;

 id_number | name | city 
-----------+------+------
 1         | abc  | JFK
 2         | xyz  | 
(2 rows)

</code></pre>

<p>You can perform many queries/operations over the database, more queries can be found <a href="https://www.tutorialspoint.com/postgresql/postgresql_update_query.htm" target="_blank">here</a></p>

<h2 id="running-an-application">Running an Application</h2>

<p>We can query the database via 3rd party applications, any web plugin or script, etc. In this example, a simple python script will be used to query the database.</p>

<pre><code class="language-Python">#!/usr/bin/python

import pg

conn = pg.DB(host="localhost", user="demopy", passwd="PASSWORD", dbname="demopy")

result = conn.query("SELECT * FROM test")

print result.getresult()

conn.close()


</code></pre>

<p>Output:
<code class="language-plaintext highlighter-rouge">[('1', 'abc', 'JFK'), ('2', 'xyz', None)]</code></p>

        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://ABresting.github.io/tags/#database" class="page__taxonomy-item" rel="tag">Database</a><span class="sep">, </span>
    
      
      
      <a href="https://ABresting.github.io/tags/#postgresql" class="page__taxonomy-item" rel="tag">PostgreSQL</a><span class="sep">, </span>
    
      
      
      <a href="https://ABresting.github.io/tags/#setup" class="page__taxonomy-item" rel="tag">Setup</a><span class="sep">, </span>
    
      
      
      <a href="https://ABresting.github.io/tags/#sql" class="page__taxonomy-item" rel="tag">SQL</a>
    
    </span>
  </p>




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=https://ABresting.github.io/posts/2019/PostgreSQL-setup/" class="btn btn--twitter" title="Share on Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://ABresting.github.io/posts/2019/PostgreSQL-setup/" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://ABresting.github.io/posts/2019/PostgreSQL-setup/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="https://ABresting.github.io/posts/2019/PostgreSQL-comp-table/" class="pagination--pager" title="PostgreSQL-Comp-table
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://ABresting.github.io/posts/2019/PostgreSQL-comp-table/" rel="permalink">PostgreSQL-Comp-table
</a>
      
    </h2>
    
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  less than 1 minute read
	
</p>
    

        
         <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2019-06-02T00:00:00-07:00">June 02, 2019</time></p>
        

    
    <p class="archive__item-excerpt" itemprop="description"><p>Comparison table of the different PostgreSQL backup tools:<br /></p>

</p>
    
    
    

  </article>
</div>

        
      </div>
    </div>
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/ABresting"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https://ABresting.github.io/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Abhimanyu Rawat. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://ABresting.github.io/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

